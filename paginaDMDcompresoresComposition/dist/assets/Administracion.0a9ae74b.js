import{_ as j,a as M,S}from"./Filtros.250ad333.js";import{a as q,b as A,g as $,d as T}from"./endPoints.f4b5bfd3.js";import{o as f,c as p,a as e,t as Y,r as b,j as k,g as h,b as w,k as c,v as m,n as E,h as F,p as x,q as C,w as B,u as I,F as L,d as P,e as V}from"./index.63e94d3a.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";const H={},K={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},G=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),J=[G];function O(_,r){return f(),p("svg",K,J)}const N=R(H,[["render",O]]),Q={key:0,class:"fixed z-20 inset-0"},W={class:"h-full w-full flex justify-center items-center"},X={class:"z-40 bg-white border rounded-xl p-4"},Z={class:"w-full flex justify-end"},ee={class:"h-full w-full flex flex-row gap-4"},te={class:"mb-6"},oe=e("label",{for:"cliente",class:"block mb-2 text-sm font-medium flex flex-row text-gray-900"},[x("Cliente"),e("div",{class:"text-red-500"},"*")],-1),se={class:"mb-6"},le=e("label",{for:"nEquipo",class:"block mb-2 text-sm flex flex-row font-medium text-gray-900"},[x("N\xB0 Equipo "),e("div",{class:"text-red-500"},"*")],-1),ae={class:"mb-6"},re=e("label",{for:"marca",class:"block mb-2 text-sm font-medium flex flex-row text-gray-900"},[x("Marca "),e("div",{class:"text-red-500"},"*")],-1),ne={class:"mb-6"},ue=e("label",{for:"modelo",class:"block mb-2 text-sm flex flex-row font-medium text-gray-900"},[x("Modelo "),e("div",{class:"text-red-500"},"*")],-1),ie={class:"mb-6"},de=e("label",{for:"potencia",class:"block mb-2 text-sm flex flex-row font-medium text-gray-900"},[x("Potencia (Kw) "),e("div",{class:"text-red-500"},"*")],-1),ce={class:"mb-6"},me=e("label",{for:"marca",class:"block mb-2 text-sm flex flex-row font-medium text-gray-900"},[x("N\xB0 serie "),e("div",{class:"text-red-500"},"*")],-1),fe=["disabled"],be={__name:"FormularioEntrada",props:{formStatus:{type:Boolean,required:!0}},emits:["changeStatusForm","submit"],setup(_,{emit:r}){const o=_,{formStatus:n}=Y(o),t=b({cliente:"",potencia:"",nEquipo:"",nSerie:"",marca:"",modelo:""}),u=k(()=>!!g.value),i=k(()=>g.value?"bg-blue-400 cursor-not-allowed":"hover:bg-blue-800 bg-blue-700 cursor-pointer"),g=k(()=>{let s;return t.value.cliente!=""&&t.value.potencia!=""&&t.value.nSerie!=""&&t.value.nEquipo!=""&&t.value.marca!=""&&t.value.modelo!=""?s=!1:s=!0,s});function v(){r("changeStatusForm")}function d(){r("submit",t.value),t.value={cliente:"",potencia:"",nEquipo:"",nSerie:"",marca:"",modelo:""}}return(s,a)=>h(n)==!0?(f(),p("div",Q,[e("div",{onClick:v,class:"z-20 text-black fixed inset-0 bg-black bg-opacity-50"}),e("div",W,[e("div",X,[e("div",Z,[e("button",{onClick:v},[w(N)])]),e("div",ee,[e("div",null,[e("div",te,[oe,c(e("input",{type:"cliente",id:"cliente","onUpdate:modelValue":a[0]||(a[0]=l=>t.value.cliente=l),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[m,t.value.cliente]])]),e("div",se,[le,c(e("input",{type:"text",id:"nEquipo","onUpdate:modelValue":a[1]||(a[1]=l=>t.value.nEquipo=l),min:"0",max:"99999",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[m,t.value.nEquipo]])]),e("div",ae,[re,c(e("input",{type:"text",id:"marca","onUpdate:modelValue":a[2]||(a[2]=l=>t.value.marca=l),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[m,t.value.marca]])])]),e("div",null,[e("div",ne,[ue,c(e("input",{type:"text",id:"modelo","onUpdate:modelValue":a[3]||(a[3]=l=>t.value.modelo=l),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[m,t.value.modelo]])]),e("div",ie,[de,c(e("input",{type:"text",id:"potencia","onUpdate:modelValue":a[4]||(a[4]=l=>t.value.potencia=l),min:"0",max:"200",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[m,t.value.potencia]])]),e("div",ce,[me,c(e("input",{type:"text",id:"nSerie","onUpdate:modelValue":a[5]||(a[5]=l=>t.value.nSerie=l),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512),[[m,t.value.nSerie]])])])]),e("button",{type:"button",onClick:d,disabled:h(u),class:E([h(i),"text-white bg-blue-700  focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"])}," Agregar ",10,fe)])])])):F("",!0)}},ge={__name:"NuevoVariador",emits:["add"],setup(_,{emit:r}){const o=b(!1);function n(){o.value=!o.value}function t(u){q.post(A(),{nombre_cliente:u.cliente,numero_equipo:u.nEquipo,modelo_equipo:u.modelo,potencia_equipo:u.potencia,numero_serie_equipo:u.nSerie,marca_equipo:u.marca,fecha_de_entrada:new Date,estado_equipo:0}).then(i=>{n(),r("add",i.data)}).catch(i=>{console.log(i)})}return(u,i)=>(f(),p("div",null,[e("button",{type:"button",onClick:n,class:"bg-green-700 text-white text-center text p-2 px-3 mb-2 rounded-xl"}," Agregar variador "),w(be,{formStatus:o.value,onSubmit:t,onChangeStatusForm:n},null,8,["formStatus"])]))}},xe={class:"fixed z-20 inset-0"},pe={class:"h-full w-full flex justify-center items-center"},_e={class:"z-40 bg-white border w-full max-w-xl rounded-xl p-4"},ve={class:"w-full flex justify-end text-black"},he={class:"h-full w-full flex flex-col gap-4"},we={class:"mb-6 w-4/12"},ye=e("label",{for:"horas",class:"block mb-2 text-sm font-medium text-gray-900"},"Horas dedicadas",-1),ke={class:"mb-6"},qe=e("label",{for:"conclusion",class:"block mb-2 text-sm font-medium flex flex-row text-gray-900"},[x("Conclusi\xF3n "),e("div",{class:"text-red-500"},"*")],-1),Se={class:"w-full flex justify-center"},$e=["disabled"],Ce={__name:"FormularioSalida",emits:["changeStatus","delete"],setup(_,{emit:r}){const o=b({horas:"",conclusion:"",file:""}),n=b(!0);b(null);const t=C(()=>!!n.value),u=C(()=>n.value?"bg-blue-400 cursor-not-allowed":"hover:bg-blue-800 bg-blue-700 cursor-pointer");function i(){r("changeStatus")}function g(){r("delete",o.value)}return B(o.value,()=>{o.value.conclusion!=""?n.value=!1:n.value=!0,console.log(o.value.conclusion)}),(v,d)=>(f(),p("div",xe,[e("div",{onClick:i,class:"z-20 text-black fixed inset-0 bg-black bg-opacity-50"}),e("div",pe,[e("div",_e,[e("div",ve,[e("button",{onClick:i},[w(N)])]),e("div",he,[e("div",null,[e("div",we,[ye,c(e("input",{type:"text",id:"horas","onUpdate:modelValue":d[0]||(d[0]=s=>o.value.horas=s),autocomplete:"off",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:"true"},null,512),[[m,o.value.horas]])])]),e("div",ke,[qe,c(e("textarea",{id:"conclusion",rows:"4","onUpdate:modelValue":d[1]||(d[1]=s=>o.value.conclusion=s),class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Escriba su conclusi\xF3n"},null,512),[[m,o.value.conclusion]])])]),e("div",Se,[e("button",{type:"button",onClick:g,disabled:h(t),class:E([h(u),"text-white   focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"])}," Terminar ",10,$e)])])])]))}},Ve={class:"h-full items-start"},Ee={class:"flex flex-row mt-8 ml-14 gap-4 items-center"},Fe={class:"sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 grid grid-cols gap-6 py-6 px-14"},Ue={__name:"Administracion",setup(_){const r=I(),o=b([]),n=b(""),t=b(!1);async function u(){try{let{data:s}=await q.get(r.query===void 0?$():`${$()}?name=${r.query.name}&finished=${r.query.finished}`);o.value=s}catch(s){console.log(s)}}B(r,()=>{u()},{immediate:!0});function i(s){o.value.push(s)}function g(){t.value=!t.value}function v(s){t.value=!t.value,n.value=s}function d(s){const{horas:a,conclusion:l,id:z}=s;S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(D=>{D.isConfirmed&&q.post(T(),{_id:n.value,horas:a,conclusion:l,fecha_de_salida:new Date}).then(()=>{const y=o.value.findIndex(U=>U._id===z);o.value.splice(y,1),S.fire("Deleted!","Your file has been deleted.","success"),g()}).catch(y=>{console.log(y)})})}return(s,a)=>(f(),p("div",Ve,[e("div",Ee,[w(j),w(ge,{onAdd:i})]),e("div",Fe,[(f(!0),p(L,null,P(o.value,l=>(f(),V(M,{key:l._id,item:l,class:"p-4",isEdit:!0,onChangeStatus:v},null,8,["item"]))),128)),t.value?(f(),V(Ce,{key:0,onChangeStatus:g,onDelete:d})):F("",!0)])]))}};export{Ue as default};
